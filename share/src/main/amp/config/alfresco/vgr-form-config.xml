<alfresco-config>

  <!-- ######################################### -->
  <!-- VGR:Document Create Node -->
  <!-- ######################################### -->

  <config evaluator="model-type" condition="vgr:document">
    <forms>
      <form>
        <field-visibility>
          <!-- Dokumentbeskrivning -->
          <show id="vgr:dc.title" />
          <show id="vgr:dc.title.alternative" />
          <show id="vgr:dc.description" />
          <show id="vgr:dc.type.document.structure" />
          <show id="vgr:dc.type.document.structure.id" />
          <show id="vgr:dc.type.document" />
          <show id="vgr:dc.type.record" />
          <show id="vgr:dc.type.record.id" />
          <show id="vgr:dc.type.templatename" />
          <show id="vgr:dc.coverage.hsacode" />
          <show id="vgr:dc.coverage.hsacode.id" />
          <show id="vgr:dc.subject.keywords" />
          <show id="vgr:dc.subject.keywords.id" />
          <show id="vgr:vgr.status.document" />
          <show id="vgr:vgr.status.document.id" />

          <!-- Upphovsman -->
          <show id="vgr:dc.creator" />
          <show id="vgr:dc.creator.id" />
          <show id="vgr:dc.creator.freetext" />
          <show id="vgr:dc.creator.forunit" />
          <show id="vgr:dc.creator.forunit.id" />
          <show id="vgr:dc.creator.project-assignment" />

          <!-- Ansvariga -->
          <show id="vgr:dc.creator.document" />
          <show id="vgr:dc.creator.document.id" />
          <show id="vgr:dc.creator.function" />

          <!-- Dokumentstatus -->
          <show id="vgr:dc.date.validfrom" />
          <show id="vgr:dc.date.validto" />
        </field-visibility>
        <appearance>
          <set id="dokumentbeskrivning" appearance="bordered-panel" label-id="vgr.set.dokumentbeskrivning" />
          <field id="vgr:dc.title" label-id="vgr.dc.title" set="dokumentbeskrivning" mandatory="true" />
          <field id="vgr:dc.title.alternative" label-id="vgr.dc.title.alternative" set="dokumentbeskrivning">
            <control template="/se/vgregion/alfresco/components/form/controls/textfield.ftl" />
          </field>
          <field id="vgr:dc.description" label-id="vgr.dc.description" set="dokumentbeskrivning" />
          <field id="vgr:dc.type.document.structure" label-id="vgr.dc.type.document.structure" set="dokumentbeskrivning">
            <control template="/se/vgregion/alfresco/components/form/controls/treeselect.ftl">
              <control-param name="ds">/page/components/treeview/documentstructure</control-param>
              <control-param name="get">/page/components/nodes/documentstructure</control-param>
              <control-param name="optionSeparator">#alf#</control-param>
              <control-param name="onlySelectLeaf">true</control-param>
            </control>
          </field>
          <field id="vgr:dc.type.document.structure.id" set="dokumentbeskrivning">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.type.document" label-id="vgr.dc.type.document" set="dokumentbeskrivning">
            <control template="/se/vgregion/alfresco/components/form/controls/ajaxselectone.ftl">
              <control-param name="ds">/service/components/documentTypes</control-param>
              <control-param name="emptyTitle">Välj gruppering av handlingstyper</control-param>
            </control>
          </field>
          <field id="vgr:dc.type.record" label-id="vgr.dc.type.record" set="dokumentbeskrivning" mandatory="true">
            <constraint-handlers>
              <constraint type="MANDATORY" validation-handler="Alfresco.forms.validation.mandatory" event="change" />
            </constraint-handlers>
            <control template="/se/vgregion/alfresco/components/form/controls/ajaxselectone.ftl">
              <control-param name="ds">/proxy/alfresco/vgr/apelon/recordTypes?documentTypeId={parent}</control-param>
              <control-param name="parent">vgr_dc.type.document</control-param>
              <control-param name="emptyTitle">Välj handlingstyp</control-param>
              <control-param name="idField">vgr:dc.type.record.id</control-param>
            </control>
          </field>
          <field id="vgr:dc.type.record.id" set="dokumentbeskrivning">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.type.templatename" label-id="vgr.dc.type.templatename" set="dokumentbeskrivning" />
          <field id="vgr:dc.coverage.hsacode" label-id="vgr.dc.coverage.hsacode" set="dokumentbeskrivning">
            <control template="/se/vgregion/alfresco/components/form/controls/selecthsacode.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
              <!-- <control-param name="labelSeparator">#sep#</control-param> -->
            </control>
          </field>
          <field id="vgr:dc.coverage.hsacode.id" set="dokumentbeskrivning">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.subject.keywords" label-id="vgr.dc.subject.keywords" set="dokumentbeskrivning">
            <control template="/se/vgregion/alfresco/components/form/controls/treeselect.ftl">
              <control-param name="ds">/page/components/treeview/kiv</control-param>
              <control-param name="get">/page/components/nodes/kiv</control-param>
              <control-param name="optionSeparator">#alf#</control-param>
              <!-- Here the fetchKeywords must be set to false as the document is not yet saved -->
              <control-param name="fetchKeywords">false</control-param>
            </control>
          </field>
          <field id="vgr:dc.subject.keywords.id" set="dokumentbeskrivning">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:vgr.status.document" label-id="vgr.vgr.status.document" set="dokumentbeskrivning">
            <control template="/se/vgregion/alfresco/components/form/controls/selectstatus.ftl" />
          </field>
          <field id="vgr:vgr.status.document.id" set="dokumentbeskrivning">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>

          <set id="upphovsman" appearance="bordered-panel" label-id="vgr.set.upphovsman" />
          <field id="vgr:dc.creator" label-id="vgr.dc.creator" set="upphovsman">
            <control template="/se/vgregion/alfresco/components/form/controls/peoplesearch.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.creator.id" set="upphovsman">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.creator.freetext" label-id="vgr.dc.creator.freetext" set="upphovsman" />
          <field id="vgr:dc.creator.forunit" label-id="vgr.dc.creator.forunit" set="upphovsman">
            <control template="/se/vgregion/alfresco/components/form/controls/treeselect.ftl">
              <control-param name="ds">/page/components/treeview/kiv</control-param>
              <control-param name="get">/page/components/nodes/kiv</control-param>
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.creator.forunit.id" set="upphovsman">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.creator.project-assignment" label-id="vgr.dc.creator.project-assignment" set="upphovsman" />

          <set id="ansvariga" appearance="bordered-panel" label-id="vgr.set.ansvariga" />
          <field id="vgr:dc.creator.document" label-id="vgr.dc.creator.document" set="ansvariga">
            <control template="/se/vgregion/alfresco/components/form/controls/peoplesearch.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.creator.document.id" set="ansvariga">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.creator.function" label-id="vgr.dc.creator.function" set="ansvariga" />

          <set id="dokumentstatus" appearance="bordered-panel" label-id="vgr.set.dokumentstatus" />
          <field id="vgr:dc.date.validfrom" label-id="vgr.dc.date.validfrom" set="dokumentstatus" />
          <field id="vgr:dc.date.validto" label-id="vgr.dc.date.validto" set="dokumentstatus" />
        </appearance>
      </form>

      <form id="search">
        <field-visibility>
          <show id="vgr:dc.title" force="false" />
          <show id="vgr:dc.description" force="false" />
          <show id="vgr:dc.source" force="false" />
          <show id="vgr:dc.source.documentid" force="false" />
          <show id="vgr:dc.identifier" force="false" />
          <show id="vgr:dc.identifier.documentid" force="false" />
        </field-visibility>
        <appearance>
          <field id="vgr:dc.title" label-id="vgr.dc.title" mandatory="false" />
          <field id="vgr:dc.description" label-id="vgr.dc.description" mandatory="false" />
          <field id="vgr:dc.source" label-id="vgr.dc.source" mandatory="false" />
          <field id="vgr:dc.source.documentid" label-id="search.vgr.dc.source.documentid" mandatory="false" />
          <field id="vgr:dc.identifier" label-id="vgr.dc.identifier" mandatory="false" />
          <field id="vgr:dc.identifier.documentid" label-id="search.vgr.dc.identifier.documentid" mandatory="false" />
        </appearance>
      </form>
    </forms>
  </config>

  <!-- ######################################### -->
  <!-- VGR:Document Edit Node -->
  <!-- ######################################### -->

  <config evaluator="node-type" condition="vgr:document">
    <forms>
      <form>
        <field-visibility>
          <!-- Dokumentbeskrivning -->
          <show id="vgr:dc.title" />
          <show id="vgr:dc.title.filename" />
          <show id="vgr:dc.title.alternative" />
          <show id="vgr:dc.description" />
          <show id="vgr:dc.type.document.structure" />
          <show id="vgr:dc.type.document.structure.id" />
          <show id="vgr:dc.type.document" />
          <show id="vgr:dc.type.record" />
          <show id="vgr:dc.type.record.id" />
          <show id="vgr:dc.coverage.hsacode" />
          <show id="vgr:dc.coverage.hsacode.id" />
          <!-- TODO: Develop a Share GUI for this. Is in metadata model. -->
          <!-- <show id="vgr:dc.audience" /> -->
          <show id="cm:versionLabel" />
          <show id="vgr:dc.contributor.savedby" />
          <show id="vgr:dc.date.saved" />
          <show id="vgr:vgr.status.document" />
          <show id="vgr:vgr.status.document.id" />
          <show id="vgr:dc.source.documentid" />
          <show id="vgr:dc.source" />

          <!-- Skapat av och för -->
          <show id="vgr:dc.creator" />
          <show id="vgr:dc.creator.id" />
          <show id="vgr:dc.creator.freetext" />
          <show id="vgr:dc.creator.forunit" />
          <show id="vgr:dc.creator.forunit.id" />
          <show id="vgr:dc.creator.project-assignment" />

          <!-- ansvariga -->
          <show id="vgr:dc.creator.document" />
          <show id="vgr:dc.creator.document.id" />
          <show id="vgr:dc.creator.function" />
          <show id="vgr:dc.creator.recordscreator" />
          <show id="vgr:dc.creator.recordscreator.id" />

          <!-- giltighet -->
          <show id="vgr:dc.date.validfrom" />
          <show id="vgr:dc.date.validto" />
          <show id="vgr:dc.date.availablefrom" />
          <show id="vgr:dc.date.availableto" />
          <show id="vgr:dc.date.copyrighted" />

          <!-- granskat/godkänt -->
          <show id="vgr:dc.contributor.acceptedby" />
          <show id="vgr:dc.contributor.acceptedby.id" />
          <show id="vgr:dc.contributor.acceptedby.freetext" />
          <show id="vgr:dc.date.accepted" />
          <show id="vgr:dc.contributor.acceptedby.role" />
          <show id="vgr:dc.contributor.acceptedby.unit.freetext" />

          <show id="vgr:dc.contributor.controlledby" />
          <show id="vgr:dc.contributor.controlledby.id" />
          <show id="vgr:dc.contributor.controlledby.freetext" />
          <show id="vgr:dc.date.controlled" />
          <show id="vgr:dc.contributor.controlledby.role" />
          <show id="vgr:dc.contributor.controlledby.unit.freetext" />

          <!-- publicerat -->
          <show id="vgr:dc.publisher.forunit" />
          <show id="vgr:dc.publisher.forunit.id" />
          <show id="vgr:dc.publisher.project-assignment" />
          <show id="vgr:dc.rights.accessrights" />
          <show id="vgr:dc.publisher" />
          <show id="vgr:dc.date.issued" />
          <show id="vgr:dc.identifier" for-mode="view" />

          <!-- Sammanhang -->
          <show id="vgr:dc.type.process.name" />
          <show id="vgr:dc.type.file.process" />
          <show id="vgr:dc.type.file" />
          <show id="vgr:dc.identifier.diarie.id" />
          <show id="vgr:dc.type.document.serie" />
          <show id="vgr:dc.type.document.id" />

          <!-- Nyckelord -->
          <show id="vgr:dc.subject.keywords" />
          <show id="vgr:dc.subject.keywords.id" />
          <show id="vgr:dc.subject.authorkeywords" />

          <!-- informationsrelaterat -->
          <show id="vgr:dc.language" />
          <show id="vgr:dc.relation.isversionof" />
          <show id="vgr:dc.relation.replaces" />
          <show id="vgr:dc.format.extent" />
          <show id="vgr:dc.identifier.location" />
          <show id="vgr:dc.type.templatename" />
          <show id="mimetype" for-mode="view" />
          <show id="vgr:dc.format.extension" />
          <show id="vgr:dc.identifier.checksum" />
          <show id="cm:taggable" for-mode="edit" force="true" />
          <show id="versioncomment" for-mode="edit" />
        </field-visibility>
        <appearance>
          <set id="dokumentbeskrivning" appearance="bordered-panel" label-id="vgr.set.dokumentbeskrivning" />
          <field id="vgr:dc.title" label-id="vgr.dc.title" set="dokumentbeskrivning" mandatory="true" help-id="vgr.help.dc.title" description-id="vgr.description.dc.title" />
          <field id="vgr:dc.title.filename" label-id="vgr.dc.title.filename" set="dokumentbeskrivning" read-only="true" help-id="vgr.help.dc.title.filename" description-id="vgr.description.dc.title.filename" />
          <field id="vgr:dc.title.alternative" label-id="vgr.dc.title.alternative" set="dokumentbeskrivning" help-id="vgr.help.dc.title.alternative" description-id="vgr.description.dc.title.alternative">
            <control template="/se/vgregion/alfresco/components/form/controls/textfield.ftl" />
          </field>
          <field id="vgr:dc.description" label-id="vgr.dc.description" set="dokumentbeskrivning" help-id="vgr.help.dc.description" description-id="vgr.description.dc.description" />
          <field id="vgr:dc.type.document.structure" label-id="vgr.dc.type.document.structure" set="dokumentbeskrivning" help-id="vgr.help.dc.type.document.structure" description-id="vgr.description.dc.type.document.structure">
            <control template="/se/vgregion/alfresco/components/form/controls/treeselect.ftl">
              <control-param name="ds">/page/components/treeview/documentstructure</control-param>
              <control-param name="get">/page/components/nodes/documentstructure</control-param>
              <control-param name="optionSeparator">#alf#</control-param>
              <control-param name="onlySelectLeaf">true</control-param>
            </control>
          </field>
          <field id="vgr:dc.type.document.structure.id" set="dokumentbeskrivning">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.type.document" label-id="vgr.dc.type.document" set="dokumentbeskrivning" help-id="vgr.help.dc.type.document" description-id="vgr.description.dc.type.document">
            <control template="/se/vgregion/alfresco/components/form/controls/ajaxselectone.ftl">
              <control-param name="ds">/service/components/documentTypes</control-param>
              <control-param name="emptyTitle">Välj gruppering av handlingstyper</control-param>
            </control>
          </field>
          <field id="vgr:dc.type.record" label-id="vgr.dc.type.record" set="dokumentbeskrivning" mandatory="true" help-id="vgr.help.dc.type.record" description-id="vgr.description.dc.type.record">
            <constraint-handlers>
              <constraint type="MANDATORY" validation-handler="Alfresco.forms.validation.mandatory" event="change" />
            </constraint-handlers>
            <control template="/se/vgregion/alfresco/components/form/controls/ajaxselectone.ftl">
              <control-param name="ds">/proxy/alfresco/vgr/apelon/recordTypes?documentTypeId={parent}</control-param>
              <control-param name="parent">vgr_dc.type.document</control-param>
              <control-param name="emptyTitle">Välj handlingstyp</control-param>
              <control-param name="idField">vgr:dc.type.record.id</control-param>
            </control>
          </field>
          <field id="vgr:dc.type.record.id" set="dokumentbeskrivning">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.coverage.hsacode" label-id="vgr.dc.coverage.hsacode" set="dokumentbeskrivning" help-id="vgr.help.dc.coverage.hsacode" description-id="vgr.description.dc.coverage.hsacode">
            <control template="/se/vgregion/alfresco/components/form/controls/selecthsacode.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
              <!-- <control-param name="labelSeparator">#sep#</control-param> -->
            </control>
          </field>
          <field id="vgr:dc.coverage.hsacode.id" set="dokumentbeskrivning" help-id="vgr.help.dc.coverage.hsacode.id" description-id="vgr.description.dc.coverage.hsacode.id">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <!-- TODO: DC.audience -->
          <field id="cm:versionLabel" label-id="vgr.dc.identifier.version" set="dokumentbeskrivning" read-only="true" help-id="vgr.help.dc.identifier.version" description-id="vgr.description.dc.identifier.version" />
          <field id="vgr:dc.contributor.savedby" label-id="vgr.dc.contributor.savedby" set="dokumentbeskrivning" read-only="true" help-id="vgr.help.dc.contributor.savedby" description-id="vgr.description.dc.contributor.savedby" />
          <field id="vgr:dc.date.saved" label-id="vgr.dc.date.saved" set="dokumentbeskrivning" read-only="true" help-id="vgr.help.dc.date.saved" description-id="vgr.description.dc.date.saved" />
          <field id="vgr:vgr.status.document" label-id="vgr.vgr.status.document" set="dokumentbeskrivning" help-id="vgr.help.vgr.status.document" description-id="vgr.description.vgr.status.document">
            <control template="/se/vgregion/alfresco/components/form/controls/selectstatus.ftl" />
          </field>
          <field id="vgr:vgr.status.document.id" set="dokumentbeskrivning">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.source.documentid" label-id="vgr.dc.source.documentid" set="dokumentbeskrivning" read-only="true" help-id="vgr.help.dc.source.documentid" description-id="vgr.description.dc.source.documentid">
            <control template="/se/vgregion/alfresco/components/form/controls/string.ftl" />
          </field>
          <field id="vgr:dc.source" label-id="vgr.dc.source" set="dokumentbeskrivning" read-only="true" help-id="vgr.help.dc.source" description-id="vgr.description.dc.source" />

          <set id="upphovsman" appearance="accordion" label-id="vgr.set.upphovsman" />
          <field id="vgr:dc.creator" label-id="vgr.dc.creator" set="upphovsman" help-id="vgr.help.dc.creator" description-id="vgr.description.dc.creator">
            <control template="/se/vgregion/alfresco/components/form/controls/peoplesearch.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.creator.id" set="upphovsman" help-id="vgr.help.dc.creator.id" description-id="vgr.description.dc.creator.id">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.creator.freetext" label-id="vgr.dc.creator.freetext" set="upphovsman" help-id="vgr.help.dc.creator.freetext" description-id="vgr.description.dc.creator.freetext" />
          <field id="vgr:dc.creator.forunit" label-id="vgr.dc.creator.forunit" set="upphovsman" help-id="vgr.help.dc.creator.forunit" description-id="vgr.description.dc.creator.forunit">
            <control template="/se/vgregion/alfresco/components/form/controls/treeselect.ftl">
              <control-param name="ds">/page/components/treeview/kiv</control-param>
              <control-param name="get">/page/components/nodes/kiv</control-param>
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.creator.forunit.id" set="upphovsman">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.creator.project-assignment" label-id="vgr.dc.creator.project-assignment" set="upphovsman" help-id="vgr.help.dc.creator.project-assignment" description-id="vgr.description.dc.creator.project-assignment" />

          <set id="ansvariga" appearance="accordion" label-id="vgr.set.ansvariga" />
          <field id="vgr:dc.creator.document" label-id="vgr.dc.creator.document" set="ansvariga" help-id="vgr.help.dc.creator.document" description-id="vgr.description.dc.creator.document">
            <control template="/se/vgregion/alfresco/components/form/controls/peoplesearch.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.creator.document.id" set="ansvariga">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.creator.function" label-id="vgr.dc.creator.function" set="ansvariga" help-id="vgr.help.dc.creator.function" description-id="vgr.description.dc.creator.function" />
          <field id="vgr:dc.creator.recordscreator" label-id="vgr.dc.creator.recordscreator" set="ansvariga" help-id="vgr.help.dc.creator.recordscreator" description-id="vgr.description.dc.creator.recordscreator">
            <control template="/se/vgregion/alfresco/components/form/controls/treeselect.ftl">
              <control-param name="ds">/page/components/treeview/kiv</control-param>
              <control-param name="get">/page/components/nodes/kiv</control-param>
              <control-param name="multiple">false</control-param>
              <control-param name="selectableLevels">2</control-param>
              <control-param name="dflt">{user_unit}</control-param>
            </control>
          </field>
          <field id="vgr:dc.creator.recordscreator.id" set="ansvariga">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>

          <set id="dokumentstatus" appearance="accordion" label-id="vgr.set.dokumentstatus" />
          <field id="vgr:dc.date.validfrom" label-id="vgr.dc.date.validfrom" set="dokumentstatus" help-id="vgr.help.dc.date.validfrom" description-id="vgr.description.dc.date.validfrom" />
          <field id="vgr:dc.date.validto" label-id="vgr.dc.date.validto" set="dokumentstatus" help-id="vgr.help.dc.date.validto" description-id="vgr.description.dc.date.validto" />
          <field id="vgr:dc.date.availablefrom" label-id="vgr.dc.date.availablefrom" set="dokumentstatus" help-id="vgr.help.dc.date.availablefrom" description-id="vgr.description.dc.date.availablefrom" />
          <field id="vgr:dc.date.availableto" label-id="vgr.dc.date.availableto" set="dokumentstatus" help-id="vgr.help.dc.date.availableto" description-id="vgr.description.dc.date.availableto" />
          <field id="vgr:dc.date.copyrighted" label-id="vgr.dc.date.copyrighted" set="dokumentstatus" help-id="vgr.help.dc.date.copyrighted" description-id="vgr.description.dc.date.copyrighted" />

          <set id="granskare" appearance="accordion" label-id="vgr.set.granskare" />
          <field id="vgr:dc.contributor.acceptedby" label-id="vgr.dc.contributor.acceptedby" set="granskare" help-id="vgr.help.dc.contributor.acceptedby" description-id="vgr.description.dc.contributor.acceptedby">
            <control template="/se/vgregion/alfresco/components/form/controls/peoplesearch.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.contributor.acceptedby.id" set="granskare">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.contributor.acceptedby.freetext" label-id="vgr.dc.contributor.acceptedby.freetext" set="granskare" help-id="vgr.help.dc.contributor.acceptedby.freetext"
            description-id="vgr.description.dc.contributor.acceptedby.freetext" />
          <field id="vgr:dc.date.accepted" label-id="vgr.dc.date.accepted" set="granskare" help-id="vgr.help.dc.date.accepted" description-id="vgr.description.dc.date.accepted" />
          <field id="vgr:dc.contributor.acceptedby.role" label-id="vgr.dc.contributor.acceptedby.role" set="granskare" help-id="vgr.help.dc.contributor.acceptedby.role" description-id="vgr.description.dc.contributor.acceptedby.role" />
          <field id="vgr:dc.contributor.acceptedby.unit.freetext" label-id="vgr.dc.contributor.acceptedby.unit.freetext" set="granskare" help-id="vgr.help.dc.contributor.acceptedby.unit.freetext"
            description-id="vgr.description.dc.contributor.acceptedby.unit.freetext" />
          <!-- TODO: DC.contributor.unit.freetext -->
          <field id="vgr:dc.contributor.controlledby" label-id="vgr.dc.contributor.controlledby" set="granskare" help-id="vgr.help.dc.contributor.controlledby" description-id="vgr.description.dc.contributor.controlledby">
            <control template="/se/vgregion/alfresco/components/form/controls/peoplesearch.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.contributor.controlledby.id" set="granskare">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.contributor.controlledby.freetext" label-id="vgr.dc.contributor.controlledby.freetext" set="granskare" help-id="vgr.help.dc.contributor.controlledby.freetext"
            description-id="vgr.description.dc.contributor.controlledby.freetext" />
          <field id="vgr:dc.date.controlled" label-id="vgr.dc.date.controlled" set="granskare" help-id="vgr.help.dc.date.controlled" description-id="vgr.description.dc.date.controlled" />
          <field id="vgr:dc.contributor.controlledby.role" label-id="vgr.dc.contributor.controlledby.role" set="granskare" help-id="vgr.help.dc.contributor.controlledby.role" description-id="vgr.description.dc.contributor.controlledby.role" />
          <field id="vgr:dc.contributor.controlledby.unit.freetext" label-id="vgr.dc.contributor.controlledby.unit.freetext" set="granskare" help-id="vgr.help.dc.contributor.controlledby.unit.freetext"
            description-id="vgr.description.dc.contributor.controlledby.unit.freetext" />

          <set id="publicerare" appearance="accordion" label-id="vgr.set.publicerare" />
          <!-- TODO: Develop a KIV connector -->
          <field id="vgr:dc.publisher.forunit" label-id="vgr.dc.publisher.forunit" set="publicerare" help-id="vgr.help.dc.publisher.forunit" description-id="vgr.description.dc.publisher.forunit">
            <control template="/se/vgregion/alfresco/components/form/controls/treeselect.ftl">
              <control-param name="ds">/page/components/treeview/kiv</control-param>
              <control-param name="get">/page/components/nodes/kiv</control-param>
              <control-param name="optionSeparator">#alf#</control-param>
              <control-param name="dflt">SE2321000131-E000000000001|Västra Götalandsregionen</control-param>
            </control>
          </field>
          <field id="vgr:dc.publisher.forunit.id" set="publicerare">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.publisher.project-assignment" label-id="vgr.dc.publisher.project-assignment" set="publicerare" help-id="vgr.help.dc.publisher.project-assignment" description-id="vgr.description.dc.publisher.project-assignment">
            <control template="/se/vgregion/alfresco/components/form/controls/textfield.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.rights.accessrights" label-id="vgr.dc.rights.accessrights" set="publicerare" help-id="vgr.help.dc.rights.accessrights" description-id="vgr.description.dc.rights.accessrights">
            <control template="/se/vgregion/alfresco/components/form/controls/selectmany.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.publisher" label-id="vgr.dc.publisher" set="publicerare" read-only="true" help-id="vgr.help.dc.publisher" description-id="vgr.description.dc.publisher" />
          <field id="vgr:dc.date.issued" label-id="vgr.dc.date.issued" set="publicerare" read-only="true" help-id="vgr.help.dc.date.issued" description-id="vgr.description.dc.date.issued" />
          <field id="vgr:dc.identifier" label-id="vgr.dc.identifier" set="publicerare" help-id="vgr.help.dc.identifier" description-id="vgr.description.dc.identifier" />

          <set id="kontext" appearance="accordion" label-id="vgr.set.kontext" />
          <field id="vgr:dc.type.process.name" label-id="vgr.dc.type.process.name" set="kontext" help-id="vgr.help.dc.type.process.name" description-id="vgr.description.dc.type.process.name">
            <control template="/se/vgregion/alfresco/components/form/controls/textfield.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.type.file.process" label-id="vgr.dc.type.file.process" set="kontext" help-id="vgr.help.dc.type.file.process" description-id="vgr.description.dc.type.file.process">
            <control template="/se/vgregion/alfresco/components/form/controls/textfield.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.type.file" label-id="vgr.dc.type.file" set="kontext" help-id="vgr.help.dc.type.file" description-id="vgr.description.dc.type.file">
            <control template="/se/vgregion/alfresco/components/form/controls/textfield.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.identifier.diarie.id" label-id="vgr.dc.identifier.diarie.id" set="kontext" help-id="vgr.help.dc.identifier.diarie.id" description-id="vgr.description.dc.identifier.diarie.id" />
          <field id="vgr:dc.type.document.serie" label-id="vgr.dc.type.document.serie" set="kontext" help-id="vgr.help.dc.type.document.serie" description-id="vgr.description.dc.type.document.serie" />
          <field id="vgr:dc.type.document.id" label-id="vgr.dc.type.document.id" set="kontext" help-id="vgr.help.dc.type.document.id" description-id="vgr.description.dc.type.document.id" />

          <set id="sokstod" appearance="accordion" label-id="vgr.set.sokstod" />
          <field id="vgr:dc.subject.keywords" label-id="vgr.dc.subject.keywords" set="sokstod">
            <control template="/se/vgregion/alfresco/components/form/controls/treeselect.ftl">
              <control-param name="ds">/page/components/treeview/keywords</control-param>
              <control-param name="get">/page/components/nodes/keywords</control-param>
              <control-param name="optionSeparator">#alf#</control-param>
              <control-param name="fetchKeywords">true</control-param>
            </control>
          </field>
          <field id="vgr:dc.subject.keywords.id" set="sokstod">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.subject.authorkeywords" label-id="vgr.dc.subject.authorkeywords" set="sokstod" help-id="vgr.help.dc.subject.authorkeywords" description-id="vgr.description.dc.subject.authorkeywords">
            <control template="/se/vgregion/alfresco/components/form/controls/textfield.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>

          <!-- TODO: Develop a Share GUI for this -->
          <!-- <set id="malgrupp" appearance="bordered-panel" label-id="vgr.set.malgrupp" /> <field id="vgr:dc.audience" label-id="vgr.dc.audience" set="malgrupp" /> -->

          <set id="information" appearance="accordion" label-id="vgr.set.information" />
          <field id="vgr:dc.language" label-id="vgr.dc.language" set="information" help-id="vgr.help.dc.language" description-id="vgr.description.dc.language">
            <control>
              <control-param name="topvalues">Svenska#alf#Engelska</control-param>
            </control>
          </field>
          <field id="vgr:dc.relation.isversionof" label-id="vgr.dc.relation.isversionof" set="information" help-id="vgr.help.dc.relation.isversionof" description-id="vgr.description.dc.relation.isversionof" />
          <field id="vgr:dc.relation.replaces" label-id="vgr.dc.relation.replaces" set="information" help-id="vgr.help.dc.relation.replaces" description-id="vgr.description.dc.relation.replaces">
            <control template="/se/vgregion/alfresco/components/form/controls/textfield.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.format.extent" label-id="vgr.dc.format.extent" set="information" help-id="vgr.help.dc.format.extent" description-id="vgr.description.dc.format.extent">
            <control template="/se/vgregion/alfresco/components/form/controls/textfield.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.identifier.location" label-id="vgr.dc.identifier.location" set="information" help-id="vgr.help.dc.identifier.location" description-id="vgr.description.dc.identifier.location">
            <control template="/se/vgregion/alfresco/components/form/controls/textfield.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.type.templatename" label-id="vgr.dc.type.templatename" set="information" help-id="vgr.help.dc.type.templatename" description-id="vgr.description.dc.type.templatename" />
          <field id="mimetype" label-id="vgr.dc.format.extent.mimetype" set="information" help-id="vgr.help.dc.format.extent.mimetype" description-id="vgr.description.dc.format.extent.mimetype">
            <control template="/org/alfresco/components/form/controls/mimetype.ftl" />
          </field>
          <field id="vgr:dc.format.extension" label-id="vgr.dc.format.extension" set="information" read-only="true" help-id="vgr.help.dc.format.extension" description-id="vgr.description.dc.format.extension" />
          <field id="vgr:dc.identifier.checksum" label-id="vgr.dc.identifier.checksum" set="information" read-only="true" help-id="vgr.help.dc.identifier.checksum" description-id="vgr.description.dc.identifier.checksum" />
          <set id="tags" appearance="accordion" label-id="vgr.set.tags" />
          <field id="cm:taggable" set="tags">
            <control template="/se/vgregion/alfresco/components/form/controls/category.ftl">
              <control-param name="compactMode">true</control-param>
              <control-param name="params">aspect=cm:taggable</control-param>
              <control-param name="createNewItemUri">/api/tag/workspace/SpacesStore</control-param>
              <control-param name="createNewItemIcon">tag</control-param>
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <set id="kommentar" appearance="simple-panel" />
          <field id="versioncomment" label-id="vgr.dc.format.extent.versioncomment" set="kommentar">
            <control template="/se/vgregion/alfresco/components/form/controls/versioncomment.ftl" />
          </field>
        </appearance>
      </form>
    </forms>
  </config>

  <!-- ######################################### -->
  <!-- Edit Folder -->
  <!-- ######################################### -->

  <config evaluator="node-type" condition="cm:folder">
    <forms>
      <form>
        <field-visibility>
          <!-- Standard folder properties -->
          <show id="cm:name" />
          <show id="cm:title" />
          <show id="cm:description" />
          <show id="cm:taggable" for-mode="edit" force="true" />

          <!-- Dokumentbeskrivning -->
          <show id="vgr:dc.title.alternative" />
          <show id="vgr:dc.description" />
          <show id="vgr:dc.type.document.structure" />
          <show id="vgr:dc.type.document.structure.id" />
          <show id="vgr:dc.type.document" />
          <show id="vgr:dc.type.record" />
          <show id="vgr:dc.type.record.id" />
          <show id="vgr:dc.coverage.hsacode" />
          <show id="vgr:dc.coverage.hsacode.id" />
          <show id="vgr:vgr.status.document" />
          <show id="vgr:vgr.status.document.id" />

          <!-- Skapat av och för -->
          <show id="vgr:dc.creator" />
          <show id="vgr:dc.creator.id" />
          <show id="vgr:dc.creator.freetext" />
          <show id="vgr:dc.creator.forunit" />
          <show id="vgr:dc.creator.forunit.id" />
          <show id="vgr:dc.creator.project-assignment" />

          <!-- ansvariga -->
          <show id="vgr:dc.creator.document" />
          <show id="vgr:dc.creator.document.id" />
          <show id="vgr:dc.creator.function" />
          <show id="vgr:dc.creator.recordscreator" />
          <show id="vgr:dc.creator.recordscreator.id" />

          <!-- giltighet -->
          <show id="vgr:dc.date.validfrom" />
          <show id="vgr:dc.date.validto" />
          <show id="vgr:dc.date.availablefrom" />
          <show id="vgr:dc.date.availableto" />
          <show id="vgr:dc.date.copyrighted" />

          <!-- granskat/godkänt -->
          <show id="vgr:dc.contributor.acceptedby" />
          <show id="vgr:dc.contributor.acceptedby.id" />
          <show id="vgr:dc.contributor.acceptedby.freetext" />
          <show id="vgr:dc.date.accepted" />
          <show id="vgr:dc.contributor.acceptedby.role" />
          <show id="vgr:dc.contributor.acceptedby.unit.freetext" />

          <show id="vgr:dc.contributor.controlledby" />
          <show id="vgr:dc.contributor.controlledby.id" />
          <show id="vgr:dc.contributor.controlledby.freetext" />
          <show id="vgr:dc.date.controlled" />
          <show id="vgr:dc.contributor.controlledby.role" />
          <show id="vgr:dc.contributor.controlledby.unit.freetext" />

          <!-- publiserat -->
          <show id="vgr:dc.publisher.forunit" />
          <show id="vgr:dc.publisher.forunit.id" />
          <show id="vgr:dc.publisher.project-assignment" />
          <show id="vgr:dc.rights.accessrights" />

          <!-- kontext -->
          <show id="vgr:dc.type.process.name" />
          <show id="vgr:dc.type.file.process" />
          <show id="vgr:dc.type.file" />
          <show id="vgr:dc.identifier.diarie.id" />
          <show id="vgr:dc.type.document.serie" />
          <show id="vgr:dc.type.document.id" />

          <!-- sökstöd -->
          <show id="vgr:dc.subject.keywords" />
          <show id="vgr:dc.subject.authorkeywords" />

          <!-- informationsrelaterat -->
          <show id="vgr:dc.language" />
          <show id="vgr:dc.relation.isversionof" />
          <show id="vgr:dc.relation.replaces" />
          <show id="vgr:dc.format.extent" />
          <show id="vgr:dc.identifier.location" />
          <show id="vgr:dc.type.templatename" />
        </field-visibility>
        <appearance>
          <set id="foldermetadata" appearance="bordered-panel" label-id="vgr.set.foldermetadata" />
          <field id="cm:name" set="foldermetadata" />
          <field id="cm:title" set="foldermetadata" />
          <field id="cm:description" set="foldermetadata" />
          <field id="cm:taggable" set="foldermetadata">
            <control>
              <control-param name="compactMode">true</control-param>
              <control-param name="params">aspect=cm:taggable</control-param>
              <control-param name="createNewItemUri">/api/tag/workspace/SpacesStore</control-param>
              <control-param name="createNewItemIcon">tag</control-param>
            </control>
          </field>

          <set id="standardmetadata" appearance="bordered-panel" label-id="vgr.set.standardmetadata" />

          <set id="dokumentbeskrivning" appearance="bordered-panel" label-id="vgr.set.dokumentbeskrivning" parent="standardmetadata" />
          <field id="vgr:dc.title.alternative" label-id="vgr.dc.title.alternative" set="dokumentbeskrivning" help-id="vgr.help.dc.title.alternative" description-id="vgr.description.dc.title.alternative">
            <control template="/se/vgregion/alfresco/components/form/controls/textfield.ftl" />
          </field>
          <field id="vgr:dc.description" label-id="vgr.dc.description" set="dokumentbeskrivning" help-id="vgr.help.dc.description" description-id="vgr.description.dc.description" />
          <field id="vgr:dc.type.document.structure" label-id="vgr.dc.type.document.structure" set="dokumentbeskrivning" help-id="vgr.help.dc.type.document.structure" description-id="vgr.description.dc.type.document.structure">
            <control template="/se/vgregion/alfresco/components/form/controls/treeselect.ftl">
              <control-param name="ds">/page/components/treeview/documentstructure</control-param>
              <control-param name="get">/page/components/nodes/documentstructure</control-param>
              <control-param name="optionSeparator">#alf#</control-param>
              <control-param name="onlySelectLeaf">true</control-param>
            </control>
          </field>
          <field id="vgr:dc.type.document.structure.id" set="dokumentbeskrivning">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.type.document" label-id="vgr.dc.type.document" set="dokumentbeskrivning" help-id="vgr.help.dc.type.document" description-id="vgr.description.dc.type.document">
            <control template="/se/vgregion/alfresco/components/form/controls/ajaxselectone.ftl">
              <control-param name="ds">/service/components/documentTypes</control-param>
              <control-param name="emptyTitle">Välj gruppering av handlingstyper</control-param>
            </control>
          </field>
          <field id="vgr:dc.type.record" label-id="vgr.dc.type.record" set="dokumentbeskrivning" help-id="vgr.help.dc.type.record" description-id="vgr.description.dc.type.record">
            <control template="/se/vgregion/alfresco/components/form/controls/ajaxselectone.ftl">
              <control-param name="ds">/proxy/alfresco/vgr/apelon/recordTypes?documentTypeId={parent}</control-param>
              <control-param name="parent">vgr_dc.type.document</control-param>
              <control-param name="emptyTitle">Välj handlingstyp</control-param>
              <control-param name="idField">vgr:dc.type.record.id</control-param>
            </control>
          </field>
          <field id="vgr:dc.type.record.id" set="dokumentbeskrivning">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.coverage.hsacode" label-id="vgr.dc.coverage.hsacode" set="dokumentbeskrivning" help-id="vgr.help.dc.coverage.hsacode" description-id="vgr.description.dc.coverage.hsacode">
            <control template="/se/vgregion/alfresco/components/form/controls/selecthsacode.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
              <!-- <control-param name="labelSeparator">#sep#</control-param> -->
            </control>
          </field>
          <field id="vgr:dc.coverage.hsacode.id" set="dokumentbeskrivning" help-id="vgr.help.dc.coverage.hsacode.id" description-id="vgr.description.dc.coverage.hsacode.id">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:vgr.status.document" label-id="vgr.vgr.status.document" set="dokumentbeskrivning" help-id="vgr.help.dc.identifier.version" description-id="vgr.description.dc.identifier.version">
            <control template="/se/vgregion/alfresco/components/form/controls/selectstatus.ftl" />
          </field>
          <field id="vgr:vgr.status.document.id" set="dokumentbeskrivning">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>

          <set id="upphovsman" appearance="accordion" label-id="vgr.set.upphovsman" parent="standardmetadata" />
          <field id="vgr:dc.creator" label-id="vgr.dc.creator" set="upphovsman" help-id="vgr.help.dc.creator" description-id="vgr.description.dc.creator">
            <control template="/se/vgregion/alfresco/components/form/controls/peoplesearch.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.creator.id" set="upphovsman">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl"></control>
          </field>
          <field id="vgr:dc.creator.freetext" label-id="vgr.dc.creator.freetext" set="upphovsman" help-id="vgr.help.dc.creator.freetext" description-id="vgr.description.dc.creator.freetext" />
          <field id="vgr:dc.creator.forunit" label-id="vgr.dc.creator.forunit" set="upphovsman" help-id="vgr.help.dc.creator.forunit" description-id="vgr.description.dc.creator.forunit">
            <control template="/se/vgregion/alfresco/components/form/controls/treeselect.ftl">
              <control-param name="ds">/page/components/treeview/kiv</control-param>
              <control-param name="get">/page/components/nodes/kiv</control-param>
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.creator.forunit.id" set="upphovsman">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.creator.project-assignment" label-id="vgr.dc.creator.project-assignment" set="upphovsman" help-id="vgr.help.dc.creator.project-assignment" description-id="vgr.description.dc.creator.project-assignment" />

          <set id="ansvariga" appearance="accordion" label-id="vgr.set.ansvariga" parent="standardmetadata" />
          <field id="vgr:dc.creator.document" label-id="vgr.dc.creator.document" set="ansvariga" help-id="vgr.help.dc.creator.document" description-id="vgr.description.dc.creator.document">
            <control template="/se/vgregion/alfresco/components/form/controls/peoplesearch.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.creator.document.id" set="ansvariga">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.creator.function" label-id="vgr.dc.creator.function" set="ansvariga" help-id="vgr.help.dc.creator.function" description-id="vgr.description.dc.creator.function" />
          <field id="vgr:dc.creator.recordscreator" label-id="vgr.dc.creator.recordscreator" set="ansvariga" help-id="vgr.help.dc.creator.recordscreator" description-id="vgr.description.dc.creator.recordscreator">
            <control template="/se/vgregion/alfresco/components/form/controls/treeselect.ftl">
              <control-param name="ds">/page/components/treeview/kiv</control-param>
              <control-param name="get">/page/components/nodes/kiv</control-param>
              <control-param name="multiple">false</control-param>
              <control-param name="selectableLevels">2</control-param>
            </control>
          </field>
          <field id="vgr:dc.creator.recordscreator.id" set="ansvariga">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>

          <set id="dokumentstatus" appearance="accordion" label-id="vgr.set.dokumentstatus" parent="standardmetadata" />
          <field id="vgr:dc.date.validfrom" label-id="vgr.dc.date.validfrom" set="dokumentstatus" help-id="vgr.help.dc.date.validfrom" description-id="vgr.description.dc.date.validfrom" />
          <field id="vgr:dc.date.validto" label-id="vgr.dc.date.validto" set="dokumentstatus" help-id="vgr.help.dc.date.validto" description-id="vgr.description.dc.date.validto" />
          <field id="vgr:dc.date.availablefrom" label-id="vgr.dc.date.availablefrom" set="dokumentstatus" help-id="vgr.help.dc.date.availablefrom" description-id="vgr.description.dc.date.availablefrom" />
          <field id="vgr:dc.date.availableto" label-id="vgr.dc.date.availableto" set="dokumentstatus" help-id="vgr.help.dc.date.availableto" description-id="vgr.description.dc.date.availableto" />
          <field id="vgr:dc.date.copyrighted" label-id="vgr.dc.date.copyrighted" set="dokumentstatus" help-id="vgr.help.dc.date.copyrighted" description-id="vgr.description.dc.date.copyrighted" />

          <set id="granskare" appearance="accordion" label-id="vgr.set.granskare" parent="standardmetadata" />
          <field id="vgr:dc.contributor.acceptedby" label-id="vgr.dc.contributor.acceptedby" set="granskare" help-id="vgr.help.dc.contributor.acceptedby" description-id="vgr.description.dc.contributor.acceptedby">
            <control template="/se/vgregion/alfresco/components/form/controls/peoplesearch.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.contributor.acceptedby.id" set="granskare">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.contributor.acceptedby.freetext" label-id="vgr.dc.contributor.acceptedby.freetext" set="granskare" help-id="vgr.help.dc.contributor.acceptedby.freetext"
            description-id="vgr.description.dc.contributor.acceptedby.freetext" />
          <field id="vgr:dc.date.accepted" label-id="vgr.dc.date.accepted" set="granskare" help-id="vgr.help.dc.date.accepted" description-id="vgr.description.dc.date.accepted" />
          <field id="vgr:dc.contributor.acceptedby.role" label-id="vgr.dc.contributor.acceptedby.role" set="granskare" help-id="vgr.help.dc.contributor.acceptedby.role" description-id="vgr.description.dc.contributor.acceptedby.role" />
          <field id="vgr:dc.contributor.acceptedby.unit.freetext" label-id="vgr.dc.contributor.acceptedby.unit.freetext" set="granskare" help-id="vgr.help.dc.contributor.acceptedby.unit.freetext"
            description-id="vgr.description.dc.contributor.acceptedby.unit.freetext" />
          <!-- TODO: DC.contributor.unit.freetext -->
          <field id="vgr:dc.contributor.controlledby" label-id="vgr.dc.contributor.controlledby" set="granskare" help-id="vgr.help.dc.contributor.controlledby" description-id="vgr.description.dc.contributor.controlledby">
            <control template="/se/vgregion/alfresco/components/form/controls/peoplesearch.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.contributor.controlledby.id" set="granskare">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.contributor.controlledby.freetext" label-id="vgr.dc.contributor.controlledby.freetext" set="granskare" help-id="vgr.help.dc.contributor.controlledby.freetext"
            description-id="vgr.description.dc.contributor.controlledby.freetext" />
          <field id="vgr:dc.date.controlled" label-id="vgr.dc.date.controlled" set="granskare" help-id="vgr.help.dc.date.controlled" description-id="vgr.description.dc.date.controlled" />
          <field id="vgr:dc.contributor.controlledby.role" label-id="vgr.dc.contributor.controlledby.role" set="granskare" help-id="vgr.help.dc.contributor.controlledby.role" description-id="vgr.description.dc.contributor.controlledby.role" />
          <field id="vgr:dc.contributor.controlledby.unit.freetext" label-id="vgr.dc.contributor.controlledby.unit.freetext" set="granskare" help-id="vgr.help.dc.contributor.controlledby.unit.freetext"
            description-id="vgr.description.dc.contributor.controlledby.unit.freetext" />

          <set id="publicerare" appearance="accordion" label-id="vgr.set.publicerare" parent="standardmetadata" />
          <!-- TODO: Develop a KIV connector -->
          <field id="vgr:dc.publisher.forunit" label-id="vgr.dc.publisher.forunit" set="publicerare" help-id="vgr.help.dc.publisher.forunit" description-id="vgr.description.dc.publisher.forunit">
            <control template="/se/vgregion/alfresco/components/form/controls/treeselect.ftl">
              <control-param name="ds">/page/components/treeview/kiv</control-param>
              <control-param name="get">/page/components/nodes/kiv</control-param>
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.publisher.forunit.id" set="publicerare">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.publisher.project-assignment" label-id="vgr.dc.publisher.project-assignment" set="publicerare" help-id="vgr.help.dc.publisher.project-assignment" description-id="vgr.description.dc.publisher.project-assignment">
            <control template="/se/vgregion/alfresco/components/form/controls/textfield.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.rights.accessrights" label-id="vgr.dc.rights.accessrights" set="publicerare" help-id="vgr.help.dc.rights.accessrights" description-id="vgr.description.dc.rights.accessrights">
            <control template="/se/vgregion/alfresco/components/form/controls/selectmany.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>

          <set id="kontext" appearance="accordion" label-id="vgr.set.kontext" parent="standardmetadata" />
          <field id="vgr:dc.type.process.name" label-id="vgr.dc.type.process.name" set="kontext" help-id="vgr.help.dc.type.process.name" description-id="vgr.description.dc.type.process.name">
            <control template="/se/vgregion/alfresco/components/form/controls/textfield.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.type.file.process" label-id="vgr.dc.type.file.process" set="kontext" help-id="vgr.help.dc.type.file.process" description-id="vgr.description.dc.type.file.process">
            <control template="/se/vgregion/alfresco/components/form/controls/textfield.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.type.file" label-id="vgr.dc.type.file" set="kontext" help-id="vgr.help.dc.type.file" description-id="vgr.description.dc.type.file">
            <control template="/se/vgregion/alfresco/components/form/controls/textfield.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.identifier.diarie.id" label-id="vgr.dc.identifier.diarie.id" set="kontext" help-id="vgr.help.dc.identifier.diarie.id" description-id="vgr.description.dc.identifier.diarie.id" />
          <field id="vgr:dc.type.document.serie" label-id="vgr.dc.type.document.serie" set="kontext" help-id="vgr.help.dc.type.document.serie" description-id="vgr.description.dc.type.document.serie" />
          <field id="vgr:dc.type.document.id" label-id="vgr.dc.type.document.id" set="kontext" help-id="vgr.help.dc.type.document.id" description-id="vgr.description.dc.type.document.id" />

          <set id="sokstod" appearance="accordion" label-id="vgr.set.sokstod" parent="standardmetadata" />
          <field id="vgr:dc.subject.keywords" label-id="vgr.dc.subject.keywords" set="sokstod">
            <control template="/se/vgregion/alfresco/components/form/controls/treeselect.ftl">
              <control-param name="ds">/page/components/treeview/kiv</control-param>
              <control-param name="get">/page/components/nodes/kiv</control-param>
              <control-param name="optionSeparator">#alf#</control-param>
              <!-- Here the fetchKeywords must be set to false as it's not a document that's being handled but a folder -->
              <control-param name="fetchKeywords">false</control-param>
            </control>
          </field>
          <field id="vgr:dc.subject.keywords.id" set="sokstod">
            <control template="/se/vgregion/alfresco/components/form/controls/hidden.ftl" />
          </field>
          <field id="vgr:dc.subject.authorkeywords" label-id="vgr.dc.subject.authorkeywords" set="sokstod" help-id="vgr.help.dc.subject.authorkeywords" description-id="vgr.description.dc.subject.authorkeywords">
            <control template="/se/vgregion/alfresco/components/form/controls/textfield.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>

          <set id="information" appearance="accordion" label-id="vgr.set.information" parent="standardmetadata" />
          <field id="vgr:dc.language" label-id="vgr.dc.language" set="information" help-id="vgr.help.dc.language" description-id="vgr.description.dc.language" />
          <field id="vgr:dc.relation.isversionof" label-id="vgr.dc.relation.isversionof" set="information" help-id="vgr.help.dc.relation.isversionof" description-id="vgr.description.dc.relation.isversionof" />
          <field id="vgr:dc.relation.replaces" label-id="vgr.dc.relation.replaces" set="information" help-id="vgr.help.dc.relation.replaces" description-id="vgr.description.dc.relation.replaces">
            <control template="/se/vgregion/alfresco/components/form/controls/textfield.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.format.extent" label-id="vgr.dc.format.extent" set="information" help-id="vgr.help.dc.format.extent" description-id="vgr.description.dc.format.extent">
            <control template="/se/vgregion/alfresco/components/form/controls/textfield.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.identifier.location" label-id="vgr.dc.identifier.location" set="information" help-id="vgr.help.dc.identifier.location" description-id="vgr.description.dc.identifier.location">
            <control template="/se/vgregion/alfresco/components/form/controls/textfield.ftl">
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <field id="vgr:dc.type.templatename" label-id="vgr.dc.type.templatename" set="information" help-id="vgr.help.dc.type.templatename" description-id="vgr.description.dc.type.templatename" />
          <field id="mimetype" label-id="vgr.dc.format.extent.mimetype" set="information" help-id="vgr.help.dc.format.extent.mimetype" description-id="vgr.description.dc.format.extent.mimetype">
            <control template="/org/alfresco/components/form/controls/mimetype.ftl" />
          </field>
          <field id="vgr:dc.format.extension" label-id="vgr.dc.format.extension" set="information" read-only="true" help-id="vgr.help.dc.format.extension" description-id="vgr.description.dc.format.extension" />
          <field id="vgr:dc.identifier.checksum" label-id="vgr.dc.identifier.checksum" set="information" read-only="true" help-id="vgr.help.dc.identifier.checksum" description-id="vgr.description.dc.identifier.checksum" />
          <field id="cm:taggable" set="foldermetadata">
            <control template="/se/vgregion/alfresco/components/form/controls/category.ftl">
              <control-param name="compactMode">true</control-param>
              <control-param name="params">aspect=cm:taggable</control-param>
              <control-param name="createNewItemUri">/api/tag/workspace/SpacesStore</control-param>
              <control-param name="createNewItemIcon">tag</control-param>
              <control-param name="optionSeparator">#alf#</control-param>
            </control>
          </field>
          <set id="kommentar" appearance="simple-panel" />
          <field id="versioncomment" label-id="vgr.dc.format.extent.versioncomment" set="kommentar">
            <control template="/se/vgregion/alfresco/components/form/controls/versioncomment.ftl" />
          </field>
        </appearance>
      </form>
    </forms>
  </config>

  <!-- Override lists with authority picker to use our site specific search -->
  <!-- dl:todoList type -->
  <config evaluator="model-type" condition="dl:todoList">
    <forms>
      <!-- Create item form -->
      <form>
        <field-visibility>
          <show id="dl:todoTitle" />
          <show id="dl:todoDueDate" />
          <show id="dl:todoPriority" />
          <show id="dl:todoStatus" />
          <show id="dl:todoNotes" />
          <show id="dl:assignee" />
          <show id="dl:attachments" />
        </field-visibility>
        <create-form template="../data-lists/forms/dataitem.ftl" />
        <appearance>
          <field id="dl:todoNotes">
            <control template="/org/alfresco/components/form/controls/textarea.ftl" />
          </field>
          <field id="dl:assignee">
            <control template="/se/vgregion/alfresco/components/form/controls/authoritysearch.ftl" />
          </field>

          <field id="dl:attachments">
            <control>
              <control-param name="startLocation">{doclib}</control-param>
            </control>
          </field>
        </appearance>
      </form>

      <!-- Data Grid view -->
      <!-- An example of an optional "datagrid" form-id to show a different set of fields to the new/edit forms -->
      <form id="datagrid">
        <field-visibility>
          <show id="dl:todoTitle" />
          <show id="dl:todoDueDate" />
          <show id="dl:todoPriority" />
          <show id="dl:todoStatus" />
          <show id="dl:todoNotes" />
          <show id="dl:assignee" />
          <show id="dl:attachments" />
        </field-visibility>
      </form>
    </forms>
  </config>

  <!-- dl_todoList type (existing nodes) -->
  <config evaluator="node-type" condition="dl:todoList">
    <forms>
      <!-- Data List pop-up edit form -->
      <form>
        <field-visibility>
          <show id="dl:todoTitle" />
          <show id="dl:todoDueDate" />
          <show id="dl:todoPriority" />
          <show id="dl:todoStatus" />
          <show id="dl:todoNotes" />
          <show id="dl:assignee" />
          <show id="dl:attachments" />
        </field-visibility>
        <edit-form template="../data-lists/forms/dataitem.ftl" />
        <appearance>
          <field id="dl:todoNotes">
            <control template="/org/alfresco/components/form/controls/textarea.ftl" />
          </field>
          <field id="dl:assignee">
            <control template="/se/vgregion/alfresco/components/form/controls/authoritysearch.ftl" />
          </field>
          <field id="dl:attachments">
            <control>
              <control-param name="startLocation">{doclib}</control-param>
            </control>
          </field>
        </appearance>
      </form>
    </forms>
  </config>

  <!-- dl:task (advanced) type create form config -->
  <!-- An example of an optional custom new/edit item template (see dl_task.ftl) -->
  <config evaluator="model-type" condition="dl:task">
    <forms>
      <!-- Create item form -->
      <form>
        <field-visibility>
          <!-- cm:titled aspect -->
          <show id="cm:title" />
          <show id="cm:description" />
          <!-- dl:gantt aspect -->
          <show id="dl:ganttStartDate" />
          <show id="dl:ganttEndDate" />
          <!-- dl:task type -->
          <show id="dl:taskAssignee" />
          <show id="dl:taskPriority" />
          <show id="dl:taskStatus" />
          <!-- dl:gantt aspect -->
          <show id="dl:ganttPercentComplete" />
          <!-- dl:task type -->
          <show id="dl:taskComments" />
          <!-- cm:attachable aspect -->
          <show id="cm:attachments" />
        </field-visibility>
        <create-form template="../data-lists/forms/dl_task.ftl" />
        <appearance>
          <field id="cm:title">
            <control template="/org/alfresco/components/form/controls/textfield.ftl" />
          </field>
          <field id="dl:taskComments">
            <control template="/org/alfresco/components/form/controls/textarea.ftl" />
          </field>
          <field id="dl:taskAssignee">
            <control template="/se/vgregion/alfresco/components/form/controls/authoritysearch.ftl" />
          </field>

          <field id="cm:attachments">
            <control>
              <control-param name="startLocation">{doclib}</control-param>
            </control>
          </field>
        </appearance>
      </form>
    </forms>
  </config>

  <!-- dl:task (advanced) type edit form config -->
  <config evaluator="node-type" condition="dl:task">
    <forms>
      <!-- Data List pop-up edit form -->
      <form>
        <field-visibility>
          <!-- cm:titled aspect -->
          <show id="cm:title" />
          <show id="cm:description" />
          <!-- dl:gantt aspect -->
          <show id="dl:ganttStartDate" />
          <show id="dl:ganttEndDate" />
          <!-- dl:task type -->
          <show id="dl:taskAssignee" />
          <show id="dl:taskPriority" />
          <show id="dl:taskStatus" />
          <!-- dl:gantt aspect -->
          <show id="dl:ganttPercentComplete" />
          <!-- dl:task type -->
          <show id="dl:taskComments" />
          <!-- cm:attachable aspect -->
          <show id="cm:attachments" />
        </field-visibility>
        <edit-form template="../data-lists/forms/dl_task.ftl" />
        <appearance>
          <field id="cm:title">
            <control template="/org/alfresco/components/form/controls/textfield.ftl" />
          </field>
          <field id="dl:taskAssignee">
            <control template="/se/vgregion/alfresco/components/form/controls/authoritysearch.ftl" />
          </field>

          <field id="dl:taskComments">
            <control template="/org/alfresco/components/form/controls/textarea.ftl" />
          </field>
          <field id="cm:attachments">
            <control>
              <control-param name="startLocation">{doclib}</control-param>
            </control>
          </field>
        </appearance>
      </form>
    </forms>
  </config>


  <!-- dl:simpletask (simple) type create form config -->
  <config evaluator="model-type" condition="dl:issue">
    <forms>
      <!-- Create item form -->
      <form>
        <field-visibility>
          <!-- dl:issue type -->
          <show id="dl:issueID" />
          <!-- cm:titled aspect -->
          <show id="cm:title" />
          <!-- dl:issue type -->
          <show id="dl:issueAssignedTo" />
          <show id="dl:issueStatus" />
          <show id="dl:issuePriority" />
          <!-- cm:titled aspect -->
          <show id="cm:description" />
          <!-- dl:issue type -->
          <show id="dl:issueDueDate" />
          <show id="dl:issueComments" />
          <!-- cm:attachable aspect -->
          <show id="cm:attachments" />
        </field-visibility>
        <create-form template="../data-lists/forms/dataitem.ftl" />
        <appearance>
          <field id="cm:title">
            <control template="/org/alfresco/components/form/controls/textfield.ftl" />
          </field>
          <field id="dl:issueAssignedTo">
            <control template="/se/vgregion/alfresco/components/form/controls/authoritysearch.ftl" />
          </field>
          <field id="dl:issueComments">
            <control template="/org/alfresco/components/form/controls/textarea.ftl" />
          </field>
          <field id="cm:attachments">
            <control>
              <control-param name="startLocation">{doclib}</control-param>
            </control>
          </field>
        </appearance>
      </form>
    </forms>
  </config>

  <!-- dl:task type edit form config -->
  <config evaluator="node-type" condition="dl:issue">
    <forms>
      <!-- Data List pop-up edit form -->
      <form>
        <field-visibility>
          <!-- dl:issue type -->
          <show id="dl:issueID" />
          <!-- cm:titled aspect -->
          <show id="cm:title" />
          <!-- dl:issue type -->
          <show id="dl:issueAssignedTo" />
          <show id="dl:issueStatus" />
          <show id="dl:issuePriority" />
          <!-- cm:titled aspect -->
          <show id="cm:description" />
          <!-- dl:issue type -->
          <show id="dl:issueDueDate" />
          <show id="dl:issueComments" />
          <!-- cm:attachable aspect -->
          <show id="cm:attachments" />
        </field-visibility>
        <edit-form template="../data-lists/forms/dataitem.ftl" />
        <appearance>
          <field id="cm:title">
            <control template="/org/alfresco/components/form/controls/textfield.ftl" />
          </field>
          <field id="dl:issueAssignedTo">
            <control template="/se/vgregion/alfresco/components/form/controls/authoritysearch.ftl" />
          </field>
          <field id="dl:issueComments">
            <control template="/org/alfresco/components/form/controls/textarea.ftl" />
          </field>
          <field id="cm:attachments">
            <control>
              <control-param name="startLocation">{doclib}</control-param>
            </control>
          </field>
        </appearance>
      </form>
    </forms>
  </config>

  <!-- dl:meetingAgenda type edit form config -->
  <config evaluator="node-type" condition="dl:meetingAgenda">
    <forms>
      <!-- Data List pop-up edit form -->
      <form>
        <field-visibility>
          <!-- dl:meetingAgenda type -->
          <show id="dl:meetingAgendaRef" />
          <!-- cm:titled aspect -->
          <show id="cm:title" />
          <show id="cm:description" />
          <!-- dl:meetingAgenda type -->
          <show id="dl:meetingAgendaTime" />
          <show id="dl:meetingAgendaOwner" />
          <!-- cm:attachable aspect -->
          <show id="cm:attachments" />
        </field-visibility>
        <edit-form template="../data-lists/forms/dataitem.ftl" />
        <appearance>
          <field id="cm:title">
            <control template="/org/alfresco/components/form/controls/textfield.ftl" />
          </field>
          <field id="cm:attachments">
            <control>
              <control-param name="startLocation">{doclib}</control-param>
            </control>
          </field>
        </appearance>
      </form>
    </forms>
  </config>

  <!-- dl:eventAgenda type create form config -->
  <config evaluator="model-type" condition="vdl:systemMessage">
    <forms>
      <form>
        <field-visibility>
          <show id="vdl:systemMessageTitle" />
          <show id="vdl:systemMessageDescription" />
          <show id="vdl:systemMessageStartTime" />
          <show id="vdl:systemMessageEndTime" />
          <show id="vdl:systemMessagePriority" />
        </field-visibility>
        <create-form template="../data-lists/forms/dataitem.ftl" />
        <appearance></appearance>
      </form>
    </forms>
  </config>

  <!-- dl:eventAgenda type edit form config -->
  <config evaluator="node-type" condition="vdl:systemMessage">
    <forms>
      <form>
        <field-visibility>
          <show id="vdl:systemMessageTitle" />
          <show id="vdl:systemMessageDescription" />
          <show id="vdl:systemMessageStartTime" />
          <show id="vdl:systemMessageEndTime" />
          <show id="vdl:systemMessagePriority" />
        </field-visibility>
        <edit-form template="../data-lists/forms/dataitem.ftl" />
        <appearance></appearance>
      </form>
    </forms>
  </config>

</alfresco-config>
